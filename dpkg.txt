Микротуториал по управлению пакетами (Debian-based)

Основные команды apt

1. Обновляет локальный кэш с информацией о доступных пакетах и их версиях из репозиториев, прописанных в "/etc/apt/sources.list":

$ sudo apt update

2. Обновляет все установленные пакеты до актуальных версий, НО существующие пакеты не удаляет. 

Если для обновления требуется удаление/установка зависимостей, оно пропускается, и пакет остается нетронутым в текущей версии:

$ sudo apt upgrade

3. Обновляет все установленные пакеты до актуальных версий, устанавливает или удаляет пакеты для разрешения зависимостей:

$ sudo apt dist-upgrade

4. Устанавливает пакет вместе со всеми его зависимостями:

$ sudo apt install <имя_пакета>

5. Переустанавливает пакет и обновляет все его содержимое. Бывает полезно, если какие-то файлы пакета были удалены или повреждены:

$ sudo apt install --reinstall <имя_пакета>

6. Удаляет указанный пакет, но оставляет файлы конфигурации:

$ sudo apt remove <имя_пакета>

7. Полностью удаляет пакет и его конфигурационные файлы:

$ sudo apt purge <имя_пакета>

8. Показывает информацию о пакете: версия, зависимости, описание, размер и т.д.:

$ sudo apt show <имя_пакета>

9. Ищет пакеты в репозиториях по имени или описанию:

$ sudo apt search <имя_пакета>

10. Удаляет пакеты, которые были установлены как зависимости, но больше не требуются:

$ sudo apt autoremove

11. Удаляет все загруженные архивы пакетов из кэша "/var/cache/apt/archives/":

$ sudo apt clean


Основные команды dpkg

1. Устанавливает пакет из локального файла .deb и не подтягивает зависимости:

$ sudo dpkg -i <имя_пакета.deb>

2. Удаляет пакет, но сохраняет конфигурационные файлы:

$ sudo dpkg -r <имя_пакета>

3. Полностью удаляет пакет и его конфигурационные файлы:

$ sudo dpkg -P <имя_пакета>

4. Показывает список всех установленных пакетов либо информацию о конкретном пакете:

$ dpkg -l
$ dpkg -l <имя_пакета>

5. Выводит подробную информацию о пакете/пакетах:

$ dpkg -s
$ dpkg -s <имя_пакета>

6. Показывает список файлов, установленных данным пакетом:

$ dpkg -L <имя_пакета>

7. Показывает содержимое архива .deb (файлы, которые будут установлены):

$ dpkg -c <имя_пакета.deb>

8. Доводит конфигурацию пакета/пакетов до конца при аварийном завершении:

$ sudo dpkg --configure -a
$ sudo dpkg --configure <имя_пакета>

9. Показывает имя пакета, который устанавливает указанный файл:

$ dpkg -S picom.desktop
picom: /etc/xdg/autostart/picom.desktop